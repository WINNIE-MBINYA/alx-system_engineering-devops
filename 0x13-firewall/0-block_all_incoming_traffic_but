#!/bin/bash

# Install ufw if not already installed
apt-get install -y ufw

# Enable IPv6 support
sed -i 's/IPV6=.*/IPV6=yes/' /etc/default/ufw

# Disable ufw before making changes to ensure a clean start
ufw disable

# Enable ufw
ufw enable

# Set default policies
ufw default deny incoming
ufw default allow outgoing

# Allow incoming traffic on required ports
ufw allow 22/tcp
ufw allow 443/tcp
ufw allow 80/tcp

# Reload ufw to apply changes
ufw reload
